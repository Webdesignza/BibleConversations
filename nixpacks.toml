# ============================================================================
# Railway Nixpacks Configuration
# This tells Railway to use its native builder instead of Docker
# MUCH FASTER than Docker builds - often 2-3x faster!
# ============================================================================

[phases.setup]
nixPkgs = ['python311', 'curl']

[phases.install]
cmds = [
    'pip install --upgrade pip',
    'pip install --no-cache-dir -r requirements.txt'
]

[phases.build]
cmds = ['mkdir -p chroma_db uploads static/images']

[start]
cmd = 'uvicorn app.main:app --host 0.0.0.0 --port $PORT'